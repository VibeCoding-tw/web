<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>【學習 1】為什麼需要 PID？ - Vibe Coding</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/style.css">
</head>

<body class="bg-gray-50 flex flex-col min-h-screen text-gray-800 font-[Inter]">

    <!-- Hero Section -->
    <header
        class="relative bg-gradient-to-br from-indigo-900 via-blue-900 to-cyan-900 text-white pt-24 pb-32 overflow-hidden">
        <div
            class="absolute inset-0 bg-[url('https://images.unsplash.com/photo-1551288049-bebda4e38f71?q=80&w=2000&auto=format&fit=crop')] bg-cover bg-center opacity-20 mix-blend-overlay">
        </div>
        <div class="absolute inset-0 bg-gradient-to-t from-gray-50 to-transparent bottom-0 h-16"></div>

        <div class="container mx-auto px-4 relative z-10 text-center">
            <span
                class="inline-block py-1 px-3 rounded-full bg-blue-500/20 border border-blue-400/30 text-blue-300 text-sm font-semibold mb-6 tracking-wide uppercase">
                進階 12 - 單元 1
            </span>
            <h1 class="text-4xl md:text-6xl font-extrabold mb-6 leading-tight tracking-tight font-[Outfit]">
                為什麼需要 PID？<br><span class="text-cyan-400">Open-Loop vs. Closed-Loop</span>
            </h1>
            <p class="text-xl md:text-2xl text-blue-100 max-w-2xl mx-auto font-light leading-relaxed">
                從盲目信任輸出，到學會觀察與修正的智慧控制。
            </p>

            <div class="mt-8 flex flex-wrap justify-center gap-4">
                <button onclick="enterMediaMode('video', window.RESOURCES.youtube)"
                    class="flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-full font-bold shadow-lg transition transform hover:scale-105">
                    <span>📺</span> 觀看教學影片
                </button>
                <button onclick="enterMediaMode('doc', window.RESOURCES.doc)"
                    class="flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-full font-bold shadow-lg transition transform hover:scale-105">
                    <span>📄</span> 閱讀課程講義
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 -mt-20 relative z-20 pb-20">

        <!-- Section 1: Open-Loop -->
        <section class="mb-16">
            <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100">
                <div class="p-1 bg-gradient-to-r from-gray-500 to-slate-500"></div>
                <div class="p-8 md:p-12">
                    <div class="flex flex-col md:flex-row gap-12">
                        <div class="flex-1">
                            <h2 class="text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3">
                                <span class="text-4xl">🙈</span> 1. 開迴路控制 (Open-Loop)：盲目的信任 (15 min)
                            </h2>
                            <div class="space-y-6 text-gray-600 text-lg leading-relaxed">
                                <div
                                    class="bg-gray-50 p-6 rounded-xl border border-gray-200 hover:border-blue-300 transition-colors">
                                    <h3 class="font-bold text-gray-800 text-xl mb-2">📡 定義</h3>
                                    <p>輸出僅取決於輸入指令，系統不看結果。</p>
                                </div>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div class="bg-blue-50 p-4 rounded-lg">
                                        <h4 class="font-bold text-blue-800 mb-1">🍕 例子：微波爐</h4>
                                        <p class="text-sm">定時 3 分鐘。它不管食物熱了沒，時間到就停。</p>
                                    </div>
                                    <div class="bg-red-50 p-4 rounded-lg">
                                        <h4 class="font-bold text-red-800 mb-1">🚗 無人車困境</h4>
                                        <p class="text-sm">給馬達 PWM=150，但因摩擦力、地面不平或電壓下降，車速永遠不如預期。</p>
                                    </div>
                                </div>
                                <p>
                                    <strong>學習任務：</strong>思考為什麼「蒙眼走路」是一個典型的開迴路行為？
                                </p>
                            </div>
                        </div>
                        <div class="flex-1 flex items-center justify-center">
                            <!-- Visual Analogy -->
                            <div
                                class="relative w-full max-w-sm aspect-video bg-gray-100 rounded-2xl overflow-hidden flex flex-col items-center justify-center p-4">
                                <div class="text-6xl mb-4">🙈 ➡️ 🏃</div>
                                <div class="text-center">
                                    <div class="text-gray-900 font-bold">Input Only</div>
                                    <div class="text-sm text-gray-500">No Feedback</div>
                                </div>
                                <div class="mt-4 w-3/4 h-2 bg-gray-300 rounded-full overflow-hidden">
                                    <div class="w-full h-full bg-gray-400 animate-pulse"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 2: Closed-Loop -->
        <section class="mb-16">
            <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100">
                <div class="p-1 bg-gradient-to-r from-green-500 to-emerald-500"></div>
                <div class="p-8 md:p-12">
                    <h2 class="text-3xl font-bold text-gray-900 mb-8 flex items-center gap-3">
                        <span class="text-4xl">👀</span> 2. 閉迴路控制 (Closed-Loop)：觀察與修正 (20 min)
                    </h2>
                    <p class="text-lg text-gray-600 mb-8">系統會將輸出結果「回饋」回來與目標比較，計算出誤差 (Error)。就像淋浴調水溫，手摸覺得冷（回饋），就轉熱一點（修正）。
                    </p>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                        <div class="bg-emerald-50 p-8 rounded-xl border border-emerald-100">
                            <h3 class="font-bold text-emerald-900 text-2xl mb-4 text-center">核心公式</h3>
                            <div
                                class="text-4xl font-mono text-center text-emerald-600 bg-white py-4 rounded-lg shadow-inner mb-4">
                                Error = Target - Measured
                            </div>
                            <p class="text-emerald-800 text-center">
                                誤差 = 目標值 - 量測值
                            </p>
                        </div>

                        <div class="space-y-4">
                            <div class="bg-blue-50 p-6 rounded-xl border border-blue-100">
                                <h4 class="font-bold text-blue-900 mb-2">📉 負回饋機制</h4>
                                <ul class="list-disc list-inside text-blue-800 space-y-2">
                                    <li>當誤差 > 0 (太慢/太冷)：增加輸出</li>
                                    <li>當誤差 < 0 (太快/太熱)：減少輸出</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3: PID -->
        <section class="mb-16">
            <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100">
                <div class="p-1 bg-gradient-to-r from-blue-500 to-purple-500"></div>
                <div class="p-8 md:p-12">
                    <h2 class="text-3xl font-bold text-gray-900 mb-8 flex items-center gap-3">
                        <span class="text-4xl">🎛️</span> 3. 為什麼需要 PID？ (25 min)
                    </h2>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        <div
                            class="bg-blue-50 p-6 rounded-xl border border-blue-100 hover:-translate-y-1 transition-transform duration-300">
                            <div
                                class="text-4xl mb-4 bg-white w-12 h-12 flex items-center justify-center rounded-full shadow-sm text-blue-600 font-bold">
                                P</div>
                            <h3 class="font-bold text-blue-900 text-lg mb-2">Proportional (比例)</h3>
                            <p class="text-blue-800 text-sm"><strong>現在</strong>的誤差。誤差越大，修正越強，負責主要的修正力道。</p>
                        </div>

                        <div
                            class="bg-purple-50 p-6 rounded-xl border border-purple-100 hover:-translate-y-1 transition-transform duration-300">
                            <div
                                class="text-4xl mb-4 bg-white w-12 h-12 flex items-center justify-center rounded-full shadow-sm text-purple-600 font-bold">
                                I</div>
                            <h3 class="font-bold text-purple-900 text-lg mb-2">Integral (積分)</h3>
                            <p class="text-purple-800 text-sm"><strong>累積</strong>的誤差。解決「靜態誤差」，補償那些微小但持續存在的阻力。</p>
                        </div>

                        <div
                            class="bg-pink-50 p-6 rounded-xl border border-pink-100 hover:-translate-y-1 transition-transform duration-300">
                            <div
                                class="text-4xl mb-4 bg-white w-12 h-12 flex items-center justify-center rounded-full shadow-sm text-pink-600 font-bold">
                                D</div>
                            <h3 class="font-bold text-pink-900 text-lg mb-2">Derivative (微分)</h3>
                            <p class="text-pink-800 text-sm"><strong>預測</strong>未來的誤差。抑制震盪，像避震器一樣讓修正變平穩。</p>
                        </div>
                    </div>

                    <div class="bg-gray-50 p-6 rounded-xl border border-gray-200">
                        <h4 class="font-bold text-gray-800 mb-2 flex items-center gap-2">
                            <span>🧠</span> 預習/線上任務
                        </h4>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div class="text-sm text-gray-600">
                                <p class="mb-2"><strong>觀看影片：</strong>PID 控制器直觀解釋。</p>
                                <p><strong>觀察重點：</strong>當只有 P 控制時，系統為何會不停地在目標線上下晃動（過衝）？</p>
                            </div>
                            <div class="text-sm text-gray-600">
                                <p class="mb-2"><strong>思考問題：</strong>為什麼給馬達一樣的電壓，車子不會走直線？</p>
                                <p class="text-xs text-gray-500">（提示：地面積木、摩擦力、電池電壓變動）</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Assignments Section -->
        <section>
            <h2 class="text-3xl font-bold text-center text-gray-800 mb-4 font-[Outfit]">實作任務</h2>
            <p class="text-center text-gray-500 mb-12">從盲人領航到精確控制的進化之路。</p>

            <div class="grid md:grid-cols-3 gap-8">
                <!-- Task 1-1 -->
                <div onclick="openSubmissionModal('adv-12-open-loop', '【作業 1-1】「盲人領航員」：開迴路實驗')"
                    class="bg-white rounded-3xl shadow-lg border border-gray-100 overflow-hidden flex flex-col group cursor-pointer hover:shadow-2xl transition-all hover:-translate-y-2">
                    <div class="bg-gray-500 h-2"></div>
                    <div class="p-8">
                        <div class="flex justify-between items-start mb-6">
                            <span class="text-4xl">🕶️</span>
                            <span class="bg-gray-100 text-gray-700 text-xs px-3 py-1 rounded-full font-bold">45
                                min</span>
                        </div>
                        <h3 class="font-bold text-xl text-gray-900 mb-4 group-hover:text-gray-600 transition">【作業
                            1-1】盲人領航員</h3>
                        <div class="text-sm text-gray-600 space-y-3">
                            <p><strong>任務：</strong>不看感測器，嘗試讓車子精準停在 1 公尺處。</p>
                            <ul class="list-disc list-inside space-y-1 text-gray-500 text-xs text-left">
                                <li>盲測：僅用 delay() 和固定 PWM，測 5 次。</li>
                                <li>數據紀錄：計算誤差標準差。</li>
                                <li>干擾測試：車上放重物或換地毯再測。</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Task 1-2 -->
                <div onclick="openSubmissionModal('adv-12-p-control', '【作業 1-2】「比例的力量」：實作 P 控制器')"
                    class="bg-white rounded-3xl shadow-lg border border-gray-100 overflow-hidden flex flex-col group cursor-pointer hover:shadow-2xl transition-all hover:-translate-y-2">
                    <div class="bg-blue-500 h-2"></div>
                    <div class="p-8">
                        <div class="flex justify-between items-start mb-6">
                            <span class="text-4xl">⚖️</span>
                            <span class="bg-blue-50 text-blue-700 text-xs px-3 py-1 rounded-full font-bold">75
                                min</span>
                        </div>
                        <h3 class="font-bold text-xl text-gray-900 mb-4 group-hover:text-blue-600 transition">【作業
                            1-2】比例的力量</h3>
                        <div class="text-sm text-gray-600 space-y-3">
                            <p><strong>任務：</strong>利用影像質心，實作 P 控制轉向。</p>
                            <ul class="list-disc list-inside space-y-1 text-gray-500 text-xs text-left">
                                <li>公式：turn_output = Kp * Error。</li>
                                <li>震盪觀測：增加 Kp，找出讓車子「蛇行」的臨界點。</li>
                                <li>目標：理解 Kp 過大的後果。</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Task 1-3 -->
                <div onclick="openSubmissionModal('adv-12-i-control', '【作業 1-3】「靜態誤差挑戰」：對抗阻力')"
                    class="bg-white rounded-3xl shadow-lg border border-gray-100 overflow-hidden flex flex-col group cursor-pointer hover:shadow-2xl transition-all hover:-translate-y-2">
                    <div class="bg-purple-500 h-2"></div>
                    <div class="p-8">
                        <div class="flex justify-between items-start mb-6">
                            <span class="text-4xl">🏔️</span>
                            <span class="bg-purple-50 text-purple-700 text-xs px-3 py-1 rounded-full font-bold">60
                                min</span>
                        </div>
                        <h3 class="font-bold text-xl text-gray-900 mb-4 group-hover:text-purple-600 transition">【作業
                            1-3】靜態誤差挑戰</h3>
                        <div class="text-sm text-gray-600 space-y-3">
                            <p><strong>任務：</strong>模擬阻力環境（如緩坡），觀察 P 控制侷限。</p>
                            <ul class="list-disc list-inside space-y-1 text-gray-500 text-xs text-left">
                                <li>現象：靠近目標但推不動的「殘餘誤差」。</li>
                                <li>引導：手動給予微小補償力，模擬 I 項工作。</li>
                                <li>目標：建立學習積分控制的動機。</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 py-12 border-t border-slate-800 mt-auto">
        <div class="container mx-auto px-4 text-center">
            <p class="text-slate-500 text-sm mb-4">&copy; 2026 Vibe Coding. All rights reserved.</p>
            <div class="flex flex-col md:flex-row justify-center items-center gap-6 text-sm text-slate-400">
                <span>進階 12 - 單元 1</span>
                <span class="hidden md:inline">|</span>
                <span>為什麼需要 PID？</span>
            </div>
        </div>
    </footer>

    <script>
        window.RESOURCES = {
            youtube: "https://www.youtube.com/embed/VWZ6QTFCod4",
            doc: "https://docs.google.com/document/d/e/2PACX-1vTEikPfietsTdOfTag1LTnRZiiFd55svK6ZhaD7TDAhm4VWJgH2IAqU15ninVMrCqylgZA8p9H448Gf/pub?embedded=true"
        };
    </script>
    <script src="/course-shared.js"></script>
</body>

</html>