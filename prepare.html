<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å®‰è£èª²ç¨‹ï¼šVS Code, Copilot, PlatformIO ç’°å¢ƒè¨­å®š</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    
    <style>
        /* åŸºç¤æ¨£å¼ (ä½¿ç”¨ Tailwind çš„ reset) */
        body { 
            font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background-color: #f7fafc; /* èˆ‡ä¸»é ä¸€è‡´çš„æ·ºç° */
            color: #333; 
        }
        .container { 
            max-width: 1200px; 
            margin: auto; 
        }
        
        /* é é¢æ¨™é¡Œæ¨£å¼ */
        .page-header h1 { 
            color: #1e3a8a; /* æ·±è—è‰²ï¼Œå‘¼æ‡‰ä¸»è‰²èª¿ */
            text-align: center; 
            margin-bottom: 10px; 
        }
        .section-title-underline {
            height: 4px;
            width: 80px;
            background-color: #06b6d4; /* é’è‰²åº•ç·š */
            margin: 0 auto 2rem;
            border-radius: 2px;
        }

        /* è³‡è¨Šå¡ç‰‡ç¶²æ ¼ä½ˆå±€ */
        .info-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); 
            gap: 30px; 
            margin-top: 30px;
        }
        
        /* è³‡è¨Šå¡ç‰‡æ¨£å¼ */
        .info-card { 
            background-color: #fff; 
            border-radius: 12px; 
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            overflow: hidden; 
            padding: 25px;
            height: 100%;
            transition: transform 0.3s ease, box-shadow 0.3s ease; 
            display: flex;
            flex-direction: column;
            border-top: 4px solid #06b6d4; /* çµ±ä¸€çš„é ‚éƒ¨å¼·èª¿è‰² */
        }
        /* é€£çµ/èª²ç¨‹å¡ç‰‡æ‡¸åœæ•ˆæœ */
        .course-card:hover { 
            transform: translateY(-5px); 
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            cursor: pointer;
        }

        .card-header { 
            display: flex; 
            align-items: center; 
            margin-bottom: 20px; 
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        .card-header h2 { 
            margin: 0; 
            font-size: 1.5em; 
            color: #1f2937; /* æ¨™é¡Œæ·±ç°è‰² */
            font-weight: 700;
        }
        .card-icon { 
            width: 40px; 
            height: 40px; 
            background-color: #e0f2fe; /* æ·ºè—åº• */
            color: #0284c7; /* æ·±è—å­— */
            border-radius: 50%; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            font-size: 1.2em; 
            margin-right: 15px;
            font-weight: bold;
        }
        
        /* å…§å®¹åˆ—è¡¨æ¨£å¼ */
        .spec-item {
            margin-bottom: 15px;
            line-height: 1.5;
            color: #4b5563; /* å…§æ–‡ç°è‰² */
        }
        .spec-item strong {
            display: block;
            color: #111827; /* é‡é»é»‘è‰² */
            margin-bottom: 3px;
        }
        
        /* æç¤ºæ¡†æ¨£å¼ */
        .note {
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            font-size: 0.95em;
        }
        
        /* å‹•æ…‹æŒ‰éˆ•æ¨£å¼ */
        .action-btn { 
            margin-top: auto; /* æ¨åˆ°åº•éƒ¨ */
            width: 100%; 
            padding: 12px; 
            border-radius: 8px; 
            font-weight: 600; 
            transition: all 0.2s;
            cursor: pointer;
            text-align: center;
        }

        /* åœ–ç‰‡èˆ‡è¦æ ¼æ¨£å¼ */
        .hardware-img-wrapper {
            text-align: center;
            margin-top: 10px;
            margin-bottom: 20px;
        }
        .hardware-img-wrapper img {
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        /* åœ–ç‰‡è£åˆ‡æ¨£å¼ */
        .basic-car-crop-wrapper {
          overflow: hidden;     
          display: block;
          position: relative;
          border-radius: 8px;
        }
        .basic-car-crop-wrapper::before {
          content: "";
          display: block;
          padding-top: 73%;    
        }
        .basic-car-crop-wrapper img {
          position: absolute;
          top: -42%;           
          left: 0;
          width: 100%;
          height: auto;
        }

        /* ä¸‹æ‹‰é¸å–®æ¨£å¼ (èˆ‡ä¸»é ä¸€è‡´) */
        .dropdown:hover .dropdown-menu {
            display: block;
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <nav class="bg-white/90 backdrop-blur-md shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <a href="index.html" class="text-2xl font-extrabold text-blue-900 tracking-tight flex items-center gap-2">
                    <span>ğŸš€</span> Vibe Coding
                </a>

                <div class="hidden md:flex items-center space-x-6 font-medium text-gray-600">
                    <div class="relative dropdown group">
                        <button class="flex items-center hover:text-cyan-600 transition cursor-pointer py-2">
                            èª²ç¨‹é€£çµ <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </button>
                        <div class="dropdown-menu absolute hidden bg-white shadow-xl rounded-lg py-2 w-48 mt-0 border border-gray-100 left-0">
                            <a href="prepare.html" class="block px-4 py-2 hover:bg-cyan-50 hover:text-cyan-700">èª²å‰æº–å‚™</a>
                            <a href="started.html" class="block px-4 py-2 hover:bg-cyan-50 hover:text-cyan-700">å…¥é–€èª²ç¨‹</a>
                            <a href="basic.html" class="block px-4 py-2 hover:bg-cyan-50 hover:text-cyan-700">åŸºç¤å¯¦ä½œ</a>
                            <a href="advanced.html" class="block px-4 py-2 hover:bg-cyan-50 hover:text-cyan-700">é€²éšæ‡‰ç”¨</a>
                        </div>
                    </div>

                    <div class="relative dropdown group">
                        <button class="flex items-center hover:text-cyan-600 transition cursor-pointer py-2">
                            çµ„æ…‹è¨­å®š <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </button>
                        <div class="dropdown-menu absolute hidden bg-white shadow-xl rounded-lg py-2 w-48 mt-0 border border-gray-100 left-0">
                            <a href="wifi-config.html" class="block px-4 py-2 hover:bg-cyan-50 hover:text-cyan-700">WiFi è¨­å®š</a>
                            <a href="motor-config.html" class="block px-4 py-2 hover:bg-cyan-50 hover:text-cyan-700">é¦¬é”è¨­å®š</a>
                        </div>
                    </div>

                    <div class="relative dropdown group">
                        <button class="flex items-center text-cyan-600 font-bold transition cursor-pointer py-2">
                            é—œæ–¼æˆ‘å€‘ <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </button>
                        <div class="dropdown-menu absolute hidden bg-white shadow-xl rounded-lg py-2 w-48 mt-0 border border-gray-100 left-0">
                            <a href="faq.html" class="block px-4 py-2 bg-cyan-50 text-cyan-700">èª²ç¨‹å¸¸è¦‹å•é¡Œ</a>
                            <a href="about.html" class="block px-4 py-2 hover:bg-cyan-50 hover:text-cyan-700">é—œæ–¼ä»˜è²»èˆ‡è³¼è²·</a>
                            <a href="collaboration.html" class="block px-4 py-2 hover:bg-cyan-50 hover:text-cyan-700">åˆä½œäº‹å®œ</a>
                        </div>
                    </div>
                </div>

                <div class="flex items-center space-x-4">
                    <a href="cart.html" class="text-gray-600 hover:text-cyan-600 transition duration-150 relative" title="å‰å¾€è³¼ç‰©è»Š">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.2 4h12.4M15 13H7" />
                        </svg>
                    </a>
                    
                    <div id="auth-status" class="text-sm flex items-center">
                        <span id="user-display" class="text-gray-600 hidden md:inline mr-2">è¨ªå®¢</span>
                        <button id="login-btn" class="bg-indigo-600 hover:bg-indigo-700 text-white text-sm py-2 px-4 rounded-full transition shadow-md">ç™»å…¥</button>
                    </div>

                    <div class="md:hidden ml-2">
                        <button id="mobile-menu-btn" class="text-gray-600 focus:outline-none p-2 border rounded hover:bg-gray-100">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
                        </button>
                    </div>
                </div>
            </div>

            <div id="mobile-menu" class="hidden md:hidden pb-4 border-t border-gray-100 mt-2">
                <div class="flex flex-col space-y-3 pt-4 font-medium text-gray-600">
                    <div class="pl-2 border-l-2 border-gray-200 ml-2">
                        <p class="text-xs text-gray-400 mb-1 uppercase">èª²ç¨‹é€£çµ</p>
                        <a href="prepare.html" class="block py-1 hover:text-cyan-600">èª²å‰æº–å‚™</a>
                        <a href="started.html" class="block py-1 hover:text-cyan-600">å…¥é–€èª²ç¨‹</a>
                        <a href="basic.html" class="block py-1 hover:text-cyan-600">åŸºç¤å¯¦ä½œ</a>
                        <a href="advanced.html" class="block py-1 hover:text-cyan-600">é€²éšæ‡‰ç”¨</a>
                    </div>

                    <div class="pl-2 border-l-2 border-gray-200 ml-2">
                        <p class="text-xs text-gray-400 mb-1 uppercase">çµ„æ…‹è¨­å®š</p>
                        <a href="wifi-config.html" class="block py-1 hover:text-cyan-600">WiFi è¨­å®š</a>
                        <a href="motor-config.html" class="block py-1 hover:text-cyan-600">é¦¬é”è¨­å®š</a>
                    </div>

                    <a href="about.html" class="hover:text-cyan-600 pl-2">é—œæ–¼æˆ‘å€‘</a>
                </div>
            </div>
        </div>
    </nav>

    <div class="container py-10 px-4 flex-grow">
        
        <div class="page-header text-center mb-10">
            <h1 class="text-3xl font-bold text-gray-800">ğŸ› ï¸ ä¸Šèª²å‰æ‡‰è©²æº–å‚™çš„äº‹é …</h1>
            <div class="section-title-underline"></div>
            <p class="text-gray-600 max-w-2xl mx-auto">ç‚ºäº†ç¢ºä¿æ‚¨çš„å­¸ç¿’é«”é©—é †æš¢ï¼Œè«‹åœ¨ä¸Šèª²å‰å®Œæˆä»¥ä¸‹è»Ÿé«”å®‰è£èˆ‡ç¡¬é«”æº–å‚™ã€‚æˆ‘å€‘æœƒå¼•å°æ‚¨ä¸€æ­¥æ­¥å®Œæˆã€‚</p>
        </div>

        <div class="info-grid">
            
            <div class="info-card course-card"
                 data-course-id="esp32-c3" 
                 data-course-name="åŸºæœ¬æ¬¾ç¨‹å¼é–‹ç™¼å¹³å°" 
                 data-course-price="1600"
                 data-classroom-url="https://vibe-coding.tw/esp32-c3.html"> 
                 <div class="card-header">
                    <div class="card-icon">Basic</div>
                    <h2>åŸºæœ¬æ¬¾ç¨‹å¼é–‹ç™¼å¹³å°</h2>
                </div>
                <p class="text-gray-500 italic mb-4 text-sm">æœ¬åŸºæœ¬æ¬¾ç¨‹å¼é–‹ç™¼å¹³å°é©ç”¨æ–¼å…¥é–€ã€åŸºç¤èª²ç¨‹ä½¿ç”¨ã€‚</p>
                
                <div class="hardware-img-wrapper">
                    <div class="basic-car-crop-wrapper">
                        <img src="https://down-tw.img.susercontent.com/file/tw-11134208-81ztp-me1d6y243mdjc3" alt="åŸºæœ¬æ¬¾ ESP32-C3">
                    </div>
                    <p class="text-xs text-gray-400 mt-2">åŸºæœ¬æ¬¾</p>
                </div>
                
                <div class="spec-item">
                    <strong>CPUï¼š</strong> ESP32-C3
                </div>
                <div class="spec-item">
                    <strong>Memoryï¼š</strong> 320K
                </div>
                <div class="spec-item">
                    <strong>Flashï¼š</strong> 4M
                </div>
                <button class="action-btn bg-gray-400 text-white mt-auto" disabled>
                    è¼‰å…¥ä¸­...
                </button>
            </div>

            <div class="info-card course-card"
                 data-course-id="esp32-s3" 
                 data-course-name="é€²éšæ¬¾ç¨‹å¼é–‹ç™¼å¹³å°" 
                 data-course-price="3600"
                 data-classroom-url="https://vibe-coding.tw/esp32-s3.html"> 
                 <div class="card-header">
                    <div class="card-icon">Pro</div>
                    <h2>é€²éšæ¬¾ç¨‹å¼é–‹ç™¼å¹³å°</h2>
                </div>
                <p class="text-gray-500 italic mb-4 text-sm">æœ¬é€²éšæ¬¾ç¨‹å¼é–‹ç™¼å¹³å°é©ç”¨æ–¼å…¥é–€ã€åŸºç¤ã€åŠé€²éšèª²ç¨‹ä½¿ç”¨ã€‚</p>
                
                <div class="hardware-img-wrapper">
                    <img src="https://www.kidstoylover.com/cdn/shop/files/1_adc99452-bd07-49f0-95a1-a5d7990ed0f5.jpg?v=1715839568&width=1445" style="clip-path: inset(0 0 23% 0); margin-bottom: -23%;" alt="é€²éšæ¬¾ ESP32-S3">
                    <p class="text-xs text-gray-400 mt-2">é€²éšæ¬¾</p>
                </div>
                
                <div class="spec-item">
                    <strong>CPUï¼š</strong> ESP32-S3
                </div>
                <div class="spec-item">
                    <strong>Memoryï¼š</strong> 8M
                </div>
                <div class="spec-item">
                    <strong>Flashï¼š</strong> 16M
                </div>
                <button class="action-btn bg-gray-400 text-white mt-auto" disabled>
                    è¼‰å…¥ä¸­...
                </button>
            </div>

            <div class="info-card course-card"
                 data-course-id="cvhofqxc" 
                 data-course-name="WiFi çµ„æ…‹è¨­å®š" 
                 data-course-price="0"
                 data-classroom-url="https://classroom.google.com/c/ODM3MzI0ODQ5MTQy?cjc=cvhofqxc"> 
                 <div class="card-header">
                    <div class="card-icon">WiFi</div>
                    <h2>WiFi çµ„æ…‹è¨­å®š</h2>
                </div>
                <p class="text-gray-500 italic mb-4 text-sm">æœ¬èª²ç¨‹æ˜¯åœ¨èªªæ˜å¦‚ä½•è¨­å®š WiFiã€‚</p>
                
                <div class="spec-item">
                    <strong>WiFi è¨­å®šï¼š</strong>
                    è¨­å®š WiFi çš„ SSID å’Œ Passwordï¼Œå¯ä»¥é€£ä¸Šç•¶åœ°çš„ç„¡ç·šç¶²è·¯ã€‚
                </div>
                <div class="note bg-green-50 text-green-800 border-l-4 border-green-500">
                    <b>é‡è¦ï¼š</b> é»æ“Šä¸‹æ–¹æŒ‰éˆ•ï¼Œå³å¯é€²å…¥ <b>Google Classroom</b> é€²è¡Œè©³ç´°çš„å®‰è£è¨­å®šæ­¥é©Ÿã€‚
                </div>
                <button class="action-btn bg-gray-400 text-white mt-auto" disabled>
                    è¼‰å…¥ä¸­...
                </button>
            </div>

            <div class="info-card course-card"
                 data-course-id="cvhofqxc" 
                 data-course-name="Motor é¦¬é”çµ„æ…‹è¨­å®š" 
                 data-course-price="0"
                 data-classroom-url="https://classroom.google.com/c/ODM3MzI0ODQ5MTQy?cjc=cvhofqxc"> 
                 <div class="card-header">
                    <div class="card-icon">Motor</div>
                    <h2>Motor é¦¬é”çµ„æ…‹è¨­å®š</h2>
                </div>
                <p class="text-gray-500 italic mb-4 text-sm">æœ¬èª²ç¨‹æ˜¯åœ¨èªªæ˜å¦‚ä½•è¨­å®š Motorã€‚</p>
                
                <div class="spec-item">
                    <strong>Motor è¨­å®šï¼š</strong>
                    è¨­å®šå‰é€²/å¾Œé€€åŠ é€Ÿé¦¬é”åŠå·¦è½‰/å³è½‰è½‰é€Ÿé¦¬é”çš„åƒæ•¸ã€‚
                </div>
                <div class="note bg-green-50 text-green-800 border-l-4 border-green-500">
                    <b>é‡è¦ï¼š</b> é»æ“Šä¸‹æ–¹æŒ‰éˆ•ï¼Œå³å¯é€²å…¥ <b>Google Classroom</b> é€²è¡Œè©³ç´°çš„å®‰è£è¨­å®šæ­¥é©Ÿã€‚
                </div>
                <button class="action-btn bg-gray-400 text-white mt-auto" disabled>
                    è¼‰å…¥ä¸­...
                </button>
            </div>

            <div class="info-card border-t-4 border-yellow-400">
                <div class="card-header">
                    <div class="card-icon bg-yellow-100 text-yellow-600">ğŸ’»</div>
                    <h2>é›»è…¦è¦æ ¼ï¼šæœ€ä½éœ€æ±‚</h2>
                </div>
                <p class="text-gray-500 italic mb-4 text-sm">æ­¤è¦æ ¼å¯é †åˆ©å®‰è£æ‰€æœ‰å·¥å…·ä¸¦é€²è¡ŒåŸºæœ¬é–‹ç™¼ã€‚</p>
                
                <div class="hardware-img-wrapper">
                    <img src="https://www.apple.com/v/macbook-air/x/images/overview/hero/hero_static__c9sislzzicq6_large.png" alt="å…¥é–€é›»è…¦">
                    <p class="text-xs text-gray-400 mt-2">å…¥é–€é›»è…¦ç¤ºæ„</p>
                </div>
                
                <div class="spec-item">
                    <strong>OSï¼š</strong> Windows 10/11 (64-bit)ã€macOS 12+
                </div>
                <div class="spec-item">
                    <strong>CPUï¼š</strong> Intel Core i3 / AMD Ryzen 3
                </div>
                <div class="spec-item">
                    <strong>RAMï¼š</strong> è‡³å°‘ <b>8 GB</b>
                </div>
                <div class="spec-item">
                    <strong>Diskï¼š</strong> è‡³å°‘ 5 GB å¯ç”¨ç©ºé–“ï¼Œå»ºè­° <b>SSD</b>
                </div>
                <div class="note bg-yellow-50 text-yellow-800 border-l-4 border-yellow-400">
                    <b>ğŸš€ é—œéµå»ºè­°ï¼š</b> 8 GB è¨˜æ†¶é«”æ˜¯åŸºæœ¬é–€æª»ï¼Œä½†ç¢ºä¿æ“æœ‰ <b>SSD</b> å°æ–¼æå‡ç¨‹å¼è¼‰å…¥å’Œç·¨è­¯é€Ÿåº¦è‡³é—œé‡è¦ã€‚
                </div>
            </div>

            <div class="info-card border-t-4 border-blue-500">
                <div class="card-header">
                    <div class="card-icon bg-blue-100 text-blue-600">ğŸš€</div>
                    <h2>é›»è…¦è¦æ ¼ï¼šå»ºè­°è¦æ ¼</h2>
                </div>
                <p class="text-gray-500 italic mb-4 text-sm">æ­¤è¦æ ¼èƒ½ç¢ºä¿æ‚¨äº«å—å³æ™‚ AI è¼”åŠ©ä¸”æ“ä½œé †æš¢ã€‚</p>
                
                <div class="hardware-img-wrapper">
                    <img src="https://www.fetnet.net/content/dam/fetnet/user_resource/cbu/images/life-circle/tech/2023/01/mac/mac-8.jpg" alt="é€²éšé›»è…¦">
                    <p class="text-xs text-gray-400 mt-2">é€²éšé›»è…¦ç¤ºæ„</p>
                </div>
                
                <div class="spec-item">
                    <strong>OSï¼š</strong> Windows 11ã€macOS 14+
                </div>
                <div class="spec-item">
                    <strong>CPUï¼š</strong> Intel Core i5 / AMD Ryzen 5 æˆ–ä»¥ä¸Š
                </div>
                <div class="spec-item">
                    <strong>RAMï¼š</strong> <b>16 GB</b> æˆ–æ›´é«˜
                </div>
                <div class="spec-item">
                    <strong>Diskï¼š</strong> <b>256 GB SSD</b> æˆ–æ›´å¤§
                </div>
                <div class="note bg-green-50 text-green-800 border-l-4 border-green-500">
                    å¼·çƒˆå»ºè­°é¸æ“‡ <b>16 GB è¨˜æ†¶é«”</b> çš„é›»è…¦ï¼Œé€™èƒ½ç¢ºä¿æ‚¨åŒæ™‚è™•ç†å¤šå€‹æ‡‰ç”¨ç¨‹å¼å’Œè¤‡é›œå°ˆæ¡ˆæ™‚ï¼Œç²å¾—æœ€ä½³é–‹ç™¼é«”é©—ã€‚
                </div>
            </div>

        </div>
    </div>

    <footer class="bg-gray-800 py-8 border-t border-gray-700 mt-10">
        <div class="container mx-auto px-4 text-center">
            <div class="flex justify-center space-x-6 mb-6 text-gray-400">
                <a href="prepare.html" class="hover:text-white">èª²å‰æº–å‚™</a>
                <a href="started.html" class="hover:text-white">å…¥é–€èª²ç¨‹</a>
                <a href="basic.html" class="hover:text-white">åŸºç¤å¯¦ä½œ</a>
                <a href="advanced.html" class="hover:text-white">é€²éšæ‡‰ç”¨</a>
            </div>
            
            <div class="border-t border-gray-700 pt-6">
                <p class="text-gray-500 text-sm mb-2">&copy; 2025 Vibe Coding. All rights reserved.</p>
                <div class="flex flex-col md:flex-row justify-center items-center gap-2 md:gap-6 text-sm text-gray-400">
                    <span>ç‡Ÿæ¥­äººåç¨±ï¼šæ–‡ç¶“å‡ºç‰ˆç¤¾æœ‰é™å…¬å¸</span>
                    <span class="hidden md:inline">|</span>
                    <span>çµ±ä¸€ç·¨è™Ÿï¼š12376121</span>
                    <span class="hidden md:inline">|</span>
                    <span>èª²ç¨‹åˆä½œæ´½è«‡ï¼šinfo@vibe-coding.tw</span>
                </div>
            </div>
        </div>
    </footer>

    <script>
        const btn = document.getElementById('mobile-menu-btn');
        const menu = document.getElementById('mobile-menu');
        btn.addEventListener('click', () => {
            menu.classList.toggle('hidden');
        });
    </script>

    <script type="module">
        // 1. åŒ¯å…¥å¿…è¦çš„ Firebase å‡½å¼
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js"; 
        import { getAuth, onAuthStateChanged, GoogleAuthProvider, signInWithPopup, signOut } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";
        import { getFunctions, httpsCallable } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-functions.js";

        // 2. æ‚¨çš„ Firebase é…ç½® (è«‹æ›¿æ›ç‚ºæ‚¨çš„çœŸå¯¦é…ç½®)
        const firebaseConfig = {
          apiKey: "AIzaSyCO6Y6Pa7b7zbieJIErysaNF6-UqbT8KJw",
          authDomain: "e-learning-942f7.firebaseapp.com",
          projectId: "e-learning-942f7",
          storageBucket: "e-learning-942f7.firebasestorage.app",
          messagingSenderId: "878397058574",
          appId: "1:878397058574:web:28aaa07a291ee3baab165f"
        };

        // 3. åˆå§‹åŒ– Firebase æœå‹™
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);           
        const functions = getFunctions(app, 'asia-east1');         
        const checkAuthFunction = httpsCallable(functions, 'checkPaymentAuthorization');
        const CART_URL = 'cart.html'; 
        const AUTH_URL = 'auth.html'; 

        // ===============================================
        // A. è³¼ç‰©è»Šæ ¸å¿ƒé‚è¼¯ (èˆ‡ basic.html ä¿æŒä¸€è‡´ï¼Œä½†æ­¤é é¢ä¸æœƒè§¸ç™¼)
        // ===============================================
        function addToCart(productId, productName, productPrice) {
            let cart = JSON.parse(localStorage.getItem('vibeCodingCart') || '{}');
            const priceNum = parseInt(productPrice, 10);
            
            if (cart[productId]) {
                return { success: false, message: `ã€Œ${productName}ã€å·²åœ¨è³¼ç‰©è»Šä¸­ï¼` };
            }
            
            cart[productId] = { 
                name: productName, 
                price: priceNum, 
                quantity: 1 
            };
            localStorage.setItem('vibeCodingCart', JSON.stringify(cart));
            
            return { success: true, message: `ã€Œ${productName}ã€å·²æˆåŠŸåŠ å…¥è³¼ç‰©è»Šï¼` };
        }

        // ===============================================
        // B. è³¼ç‰©è»Šç¢ºèªæµç¨‹ (èˆ‡ basic.html ä¿æŒä¸€è‡´)
        // ===============================================
        function handleAddToCartConfirmation(courseId, courseName, coursePrice) {
            const cart = JSON.parse(localStorage.getItem('vibeCodingCart') || '{}');
            
            // é å…ˆæª¢æŸ¥è³¼ç‰©è»Šï¼Œå¦‚æœå·²å­˜åœ¨ï¼Œåªå½ˆå‡º alert æé†’
            if (cart[courseId]) {
                alert(`âš ï¸ ã€Œ${courseName}ã€å·²åœ¨è³¼ç‰©è»Šä¸­ï¼`);
                return; 
            }
            
            const priceText = `NT$ ${parseInt(coursePrice, 10).toLocaleString()}`;
            
            const isConfirmed = confirm(`æ‚¨ç¢ºå®šè¦å°‡èª²ç¨‹ã€Œ${courseName}ã€åŠ å…¥è³¼ç‰©è»Šå—ï¼Ÿ\n\nåƒ¹æ ¼ï¼š${priceText}`);

            if (isConfirmed) {
                // å¦‚æœä½¿ç”¨è€…æŒ‰ä¸‹ã€Œç¢ºå®šã€
                addToCart(courseId, courseName, coursePrice);
                alert(`ğŸ›’ ã€Œ${courseName}ã€å·²åŠ å…¥è³¼ç‰©è»Šï¼Œè«‹å‰å¾€çµå¸³é é¢ï¼`); 
                window.location.href = CART_URL; // ä¿æŒ basic.html çš„è¡Œç‚º (å¦‚æœå•†å“æ˜¯æ”¶è²»çš„)
            } 
        }

        // ===============================================
        // C. ç™»å…¥/ç™»å‡ºé‚è¼¯ (èˆ‡ basic.html ä¿æŒä¸€è‡´)
        // ===============================================
        async function handleLogin() {
            const provider = new GoogleAuthProvider();
            try {
                await signInWithPopup(auth, provider);
            } catch (error) {
                console.error("ç™»å…¥å¤±æ•—:", error);
            }
        }

        async function handleLogout() {
            await signOut(auth);
        }

        // ===============================================
        // D. å‹•æ…‹æŒ‰éˆ•ç‹€æ…‹æ›´æ–°æ ¸å¿ƒé‚è¼¯
        // ===============================================
        
        // ä½¿ç”¨é€šç”¨é¸æ“‡å™¨é¸æ“‡æ‰€æœ‰èª²ç¨‹å¡ç‰‡
        const lessonCards = document.querySelectorAll('.course-card'); 

        /**
         * æ ¹æ“šæˆæ¬Šç‹€æ…‹æ›´æ–°å–®ä¸€èª²ç¨‹å¡ç‰‡çš„æŒ‰éˆ•
         */
        function updateCardAction(cardElement, status) {
            const btn = cardElement.querySelector('.action-btn');
            if (!btn) return; 

            const courseId = cardElement.dataset.courseId;
            const courseName = cardElement.dataset.courseName;
            const coursePrice = cardElement.dataset.coursePrice; 
            const classroomUrl = cardElement.dataset.classroomUrl;
            const isFreeCourse = parseInt(coursePrice, 10) === 0; 
            const priceText = `NT$ ${parseInt(coursePrice, 10).toLocaleString()}`; 

            // æ¸…é™¤æ‰€æœ‰èˆŠçš„äº‹ä»¶ç›£è½å™¨
            btn.onclick = null; 
            btn.disabled = false;

            if (status === 'AUTHORIZED') {
                // ç‹€æ…‹ 1: å·²æˆæ¬Š -> é€²å…¥èª²ç¨‹
                btn.textContent = 'âœ… é€²å…¥èª²ç¨‹å…§å®¹';
                btn.className = 'action-btn bg-green-600 hover:bg-green-700 text-white mt-auto';
                btn.onclick = () => {
                    // å‚³é courseId å’Œ coursePrice çµ¦ auth.html 
                    window.location.href = `${AUTH_URL}?url=${encodeURIComponent(classroomUrl)}&id=${courseId}&price=${coursePrice}`;
                };
            } else if (status === 'UNAUTHORIZED' || status === 'ERROR') {
                // ç‹€æ…‹ 2 & 5: å·²ç™»å…¥ä½†æœªè³¼è²· æˆ– CF æª¢æŸ¥å¤±æ•—

                if (isFreeCourse) {
                    // å…è²»èª²ç¨‹å‡ºç¾ UNAUTHORIZED/ERROR è¦–ç‚ºç•°å¸¸æˆ–æœªç™»å…¥
                    btn.textContent = 'ğŸ‘¤ è«‹å…ˆç™»å…¥ä»¥é€²å…¥èª²ç¨‹ (å…è²»)';
                    btn.className = 'action-btn bg-indigo-600 hover:bg-indigo-700 text-white mt-auto';
                    btn.onclick = handleLogin;
                } else {
                    // æ”¶è²»èª²ç¨‹ï¼šå¼•å°åŠ å…¥è³¼ç‰©è»Š (é»æ“Šå¾Œé€²å…¥ç¢ºèªæµç¨‹)
                    btn.textContent = `ğŸ›’ åŠ å…¥è³¼ç‰©è»Š (${priceText})`;
                    btn.className = 'action-btn bg-indigo-600 hover:bg-indigo-700 text-white mt-auto';
                    btn.onclick = () => {
                        handleAddToCartConfirmation(courseId, courseName, coursePrice); 
                    };
                }
            } else if (status === 'NOT_LOGGED_IN') {
                // ç‹€æ…‹ 3: æœªç™»å…¥

                if (isFreeCourse) {
                    // å…è²»èª²ç¨‹ï¼šå¼•å°ç™»å…¥
                    btn.textContent = 'ğŸ‘¤ è«‹å…ˆç™»å…¥ä»¥é€²å…¥èª²ç¨‹ (å…è²»)';
                    btn.className = 'action-btn bg-indigo-600 hover:bg-indigo-700 text-white mt-auto';
                    btn.onclick = handleLogin;
                } else {
                    // æ”¶è²»èª²ç¨‹ï¼šå¼•å°åŠ å…¥è³¼ç‰©è»Š (é»æ“Šå¾Œé€²å…¥ç¢ºèªæµç¨‹)
                    btn.textContent = `ğŸ›’ åŠ å…¥è³¼ç‰©è»Š (${priceText})`;
                    btn.className = 'action-btn bg-indigo-600 hover:bg-indigo-700 text-white mt-auto';
                    btn.onclick = () => {
                        handleAddToCartConfirmation(courseId, courseName, coursePrice); 
                    };
                }

            } else if (status === 'LOADING') {
                // ç‹€æ…‹ 4: è¼‰å…¥ä¸­
                btn.textContent = 'æ¬Šé™æª¢æŸ¥ä¸­...';
                btn.className = 'action-btn bg-gray-400 text-white mt-auto';
                btn.disabled = true;
            } 
        }

        /**
         * æª¢æŸ¥å–®ä¸€èª²ç¨‹çš„æˆæ¬Šç‹€æ…‹
         */
        async function checkLessonAuthorization(cardElement, user) {
            updateCardAction(cardElement, 'LOADING');

            const courseId = cardElement.dataset.courseId;
            const classroomUrl = cardElement.dataset.classroomUrl;
            const isFreeCourse = parseInt(cardElement.dataset.coursePrice, 10) === 0;

            if (!user) {
                // 1. æœªç™»å…¥
                updateCardAction(cardElement, 'NOT_LOGGED_IN');
                return;
            }

            // å…è²»èª²ç¨‹ä¸”ä½¿ç”¨è€…å·²ç™»å…¥ï¼Œç›´æ¥è¦–ç‚º AUTHORIZED (è·³é CF)
            if (isFreeCourse) {
                updateCardAction(cardElement, 'AUTHORIZED');
                return; 
            }

            // --- æ”¶è²»èª²ç¨‹æ‰æœƒèµ°åˆ°é€™è£¡ (å‘¼å« CF) ---
            try {
                const result = await checkAuthFunction({ 
                    courseId: courseId, 
                    targetUrl: encodeURIComponent(classroomUrl) 
                });

                const status = result.data.status; 
                updateCardAction(cardElement, status);

            } catch (error) {
                console.error(`èª²ç¨‹ ${courseId} æˆæ¬Šæª¢æŸ¥å¤±æ•—:`, error);
                
                // CF å‘¼å«å¤±æ•—ï¼Œæ”¶è²»èª²ç¨‹å°å‘ UNAUTHORIZED (åŠ å…¥è³¼ç‰©è»Š)
                updateCardAction(cardElement, 'UNAUTHORIZED');
            }
        }

        // ----------------------------------------------------
        // E. ç¸½é«”æˆæ¬Šæµç¨‹æ§åˆ¶å™¨ (å°æ‰€æœ‰å¡ç‰‡é€²è¡Œè¿´åœˆæª¢æŸ¥)
        // ----------------------------------------------------
        onAuthStateChanged(auth, (user) => {
            const userDisplay = document.getElementById('user-display');
            const loginBtn = document.getElementById('login-btn');

            if (user) {
                userDisplay.textContent = user.displayName || user.email;
                userDisplay.classList.remove('hidden'); // ç¢ºä¿é¡¯ç¤º
                loginBtn.textContent = 'ç™»å‡º';
                loginBtn.onclick = handleLogout;
                
                lessonCards.forEach(card => {
                    checkLessonAuthorization(card, user);
                });
            } else {
                userDisplay.textContent = 'è¨ªå®¢';
                userDisplay.classList.add('hidden'); // æ‰‹æ©Ÿç‰ˆéš±è—è¨ªå®¢æ–‡å­—
                userDisplay.classList.remove('md:inline'); // é›»è…¦ç‰ˆé¡¯ç¤º
                
                loginBtn.textContent = 'ç™»å…¥';
                loginBtn.onclick = handleLogin;
                
                lessonCards.forEach(card => {
                    updateCardAction(card, 'NOT_LOGGED_IN');
                });
            }
        });

    </script>
</body>
</html>